<% if portfolio_holdings.empty? %>
  <p>This portfolio is currently empty.</p>
<% else %>
<table>
  <thead>
    <tr>
      <th>Symbol</th>
      <th>Quantity</th>
      <th>Average Cost</th>
      <th>Last Price</th>
      <th>Current Value</th>
    </tr>
  </thead>
  <tbody>
    <% portfolio_holdings.each do |holding| %>
      <tr onclick="window.location='<%= holding_path(holding) %>';" style='cursor: pointer;'>
        <td>
          <%= holding.symbol %>
        </td>
        <td>
          <%= number_format(holding.quantity) %>
        </td>
        <td>
          $ <%= number_format(holding.wac) %>
        </td>
        <td>
          <% market_price = last_price(holding.symbol) %>
          $ <%= number_format(market_price) %>
        </td>
        <td>
          $ <%= current_value(holding.quantity, market_price) %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
<% end %>